% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/join_polygon.R
\name{pb_polyJoin}
\alias{pb_polyJoin}
\title{Most likely polygon under positional uncertainty (MAP)}
\usage{
pb_polyJoin(
  displaced.sf,
  polygons.sf,
  displaced.id = "DHSID",
  polygons.id = "SPAID",
  densityBuffer = NULL,
  adminBound = NULL,
  adminID = "ID_2",
  templateRaster = NULL,
  min_weight = 0
)
}
\arguments{
\item{densityBuffer}{A density buffer object created by `pb_densityBuffer()`.}

\item{adminBound}{Optional admin polygons used to trim the kernel to the polygon
containing each displaced point.}

\item{adminID}{ID column in `adminBound`.}

\item{templateRaster}{Optional `RasterLayer` used as a template for rasterization
(CRS/resolution/extent). If `NULL`, the function will try to use the
densityBuffer's own raster metadata; if that is insufficient in your current
implementation of `pb_apply_densityBuffer()`, pass a template explicitly.}

\item{min_weight}{Drop candidate cells with weights <= min_weight (default 0).}
}
\value{
A data.frame with columns:
  - displaced.id
  - polygons.id (MAP polygon; NA if none)
  - p_hat (probability of MAP; NA if none)
}
\description{
Wrapper around `pb_polyProbsJoin()` that returns, for each displaced point,
the polygon with maximum estimated probability mass.
}
