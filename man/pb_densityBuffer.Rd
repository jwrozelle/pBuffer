% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prob_density.R
\name{pb_densityBuffer}
\alias{pb_densityBuffer}
\title{Create a reusable DHS-style density buffer object}
\usage{
pb_densityBuffer(
  radii_m,
  cell_m = 50,
  method = c("integral", "mc"),
  kernel = c("uniform_radius", "uniform_area"),
  mixture = FALSE,
  mixture_weights = c(0.99, 0.01),
  mixture_radii_m = c(5000, 10000),
  mixture_applies_to = c("rural_only", "global"),
  n_draws_mc = 2e+05,
  seed = NULL,
  urban_col = "URBAN_RURA",
  urban_value = "U"
)
}
\arguments{
\item{radii_m}{Numeric vector of radii (meters) to build kernels for.}

\item{cell_m}{Grid resolution (meters) of the kernel.}

\item{method}{One of \code{"integral"} or \code{"mc"}.}

\item{kernel}{One of \code{"uniform_radius"} or \code{"uniform_area"}.}

\item{mixture}{Logical; if TRUE, store mixture metadata (weights/radii).}

\item{mixture_weights}{Numeric vector summing to 1 (e.g., c(0.99,0.01)).}

\item{mixture_radii_m}{Numeric vector of radii for mixture components.}

\item{mixture_applies_to}{One of \code{"rural_only"} or \code{"global"}.}

\item{n_draws_mc}{Number of MC draws used to approximate each kernel (method="mc").}

\item{seed}{Optional seed for reproducibility (method="mc").}

\item{urban_col}{Name of urban/rural column (default "URBAN_RURA").}

\item{urban_value}{Value indicating urban (default "U").}
}
\value{
An object of class \code{pb_densityBuffer}.
}
\description{
Constructs an origin-centered probability kernel on a regular grid. The result
is an object consumed by join functions (e.g., \code{pb_rasterValJoin()}), and
is intended to be reusable across all future join types (raster/polygon/point).

Two construction methods are supported:
\itemize{
  \item \code{method="integral"}: deterministic numeric integration of cell masses
  \item \code{method="mc"}: Monte Carlo approximation binned to a grid
}

Mixture support is optional (rare): if enabled, kernels are built for each
mixture radius and stored in the object; mixture weights are applied later by
\code{pb_apply_densityBuffer()} when the kernel is used for a specific point.
}
