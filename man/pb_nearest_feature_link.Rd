% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/join_nearest.R
\name{pb_nearest_feature_link}
\alias{pb_nearest_feature_link}
\title{Link each point to its nearest feature}
\usage{
pb_nearest_feature_link(
  dhs_sf,
  hf_sf,
  dhsID = "DHSID",
  hfID = "SPAID",
  out_hf_id = "nearHFID"
)
}
\arguments{
\item{dhs_sf}{An `sf` object with POINT geometry representing origins (e.g., DHS clusters).}

\item{hf_sf}{An `sf` object representing candidate destination features (e.g., facilities).}

\item{dhsID}{Name of the unique ID column in `dhs_sf` (default `"DHSID"`).}

\item{hfID}{Name of the unique ID column in `hf_sf` (default `"SPAID"`).}

\item{out_hf_id}{Name of the output column containing the linked feature ID
(default `"nearHFID"`).}
}
\value{
A data.frame with columns `dhsID` and `out_hf_id`. One row per input point.
}
\description{
Creates a deterministic nearest-neighbor linkage from a point layer (e.g., DHS clusters)
to a feature layer (e.g., facilities). For each point, the function identifies the
nearest feature (by planar distance in the current CRS) and returns a two-column
key pairing the point ID to the nearest feature ID.
}
\details{
Notes:
- For meaningful distances, inputs should be in a **projected CRS**. If `hf_sf` is in a
  different CRS, it will be transformed to match `dhs_sf`.
- Nearest-feature lookup uses `sf::st_nearest_feature()`, which operates on geometries;
  `hf_sf` may be points, lines, or polygons.
}
\examples{
\dontrun{
links <- pb_nearest_feature_link(dhs_sf, hf_sf, dhsID = "DHSID", hfID = "SPAID")
head(links)
}
}
