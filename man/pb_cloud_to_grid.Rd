% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prob_points_mc.R
\name{pb_cloud_to_grid}
\alias{pb_cloud_to_grid}
\title{Bin a displacement cloud into a probability grid (raster)}
\usage{
pb_cloud_to_grid(
  cloud_sf,
  cell_m = 50,
  weightsCol = "layer",
  extent_m = NULL,
  center_xy = NULL,
  adminBound = NULL,
  drop_zeros = TRUE
)
}
\arguments{
\item{cloud_sf}{An `sf` POINT object (e.g., output of `pb_cloud_dhs_mc()`).}

\item{cell_m}{Grid resolution in meters (default 50).}

\item{weightsCol}{Name of the weight column in `cloud_sf` (default `"layer"`). If missing,
points are treated as equal weight.}

\item{extent_m}{Optional numeric scalar giving half-width of the square extent centered on
`center_xy`. If NULL, extent is derived from the cloud bounding box.}

\item{center_xy}{Optional numeric length-2 vector c(x,y) for grid centering. If NULL,
uses the centroid of the cloudâ€™s bbox.}

\item{adminBound}{Optional `sf` polygon used to trim/mask the grid (default NULL).}

\item{drop_zeros}{If TRUE (default), zeros remain zeros in raster; conversion to points
can drop them later.}
}
\value{
A `raster::RasterLayer` whose cell values sum to 1.
}
\description{
Converts a set of candidate point locations (an sf POINT cloud) into a discrete
probability surface on a regular grid. By default this uses simple cell binning
(counts) and then normalizes to sum to 1. If a weights column is provided, cell
values are the sum of weights.
}
\details{
Optionally trims/masks the grid to an administrative boundary and renormalizes
via `trimProbBuff()`.
}
