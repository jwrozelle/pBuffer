% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prob_points_mc.R
\name{pb_cloud_dhs_mc}
\alias{pb_cloud_dhs_mc}
\title{Generate a Monte Carlo displacement cloud under DHS-style rules}
\usage{
pb_cloud_dhs_mc(
  point_sf,
  n_draws = 2e+05,
  urban_col = "URBAN_RURA",
  p_rural_hi = 0.01,
  rural_max = 5000,
  rural_max_hi = 10000,
  urban_max = 2000,
  uniform_area = FALSE,
  weightsCol = "layer",
  keep_offsets = TRUE
)
}
\arguments{
\item{point_sf}{A single-row `sf` POINT object (one cluster). Must include `urban_col`.}

\item{n_draws}{Number of Monte Carlo draws (default 200000).}

\item{urban_col}{Name of urban/rural column (default `"URBAN_RURA"`, expecting `"U"`/`"R"`).}

\item{p_rural_hi}{Fraction of rural draws with higher max displacement (default 0.01).
DHS protocol specifies 1% of rural clusters, rounded down; implemented as `floor(n_draws*p_rural_hi)`.
Set to 0 to ignore the rare 10 km tail.}

\item{rural_max}{Rural max displacement in meters (default 5000).}

\item{rural_max_hi}{Rare rural max displacement in meters (default 10000).}

\item{urban_max}{Urban max displacement in meters (default 2000).}

\item{uniform_area}{If FALSE (default), distances are uniform in radius. If TRUE, uniform over area.}

\item{weightsCol}{Name of the weight column in the output (default `"layer"`).}

\item{keep_offsets}{If TRUE, includes `dx` and `dy` columns in output (default TRUE).}
}
\value{
An `sf` POINT object with `n_draws` rows. Contains a weight column (`weightsCol`)
  summing to 1 and geometry representing the displaced locations.
}
\description{
Creates a cloud of candidate locations for a single DHS cluster by drawing
many displacement realizations consistent with DHS public-use rules:
urban: max 2 km; rural: max 5 km with a small fraction (rounded down) allowed up to 10 km.
}
\details{
The output is an sf POINT object that can be fed into pBuffer join functions
directly, or binned into a grid via `pb_cloud_to_grid()`.
}
