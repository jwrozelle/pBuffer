% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/displace_admin.R
\name{pb_displace_protocol_dhs}
\alias{pb_displace_protocol_dhs}
\title{DHS displacement constrained to administrative boundaries (protocol)}
\usage{
pb_displace_protocol_dhs(
  point_sf,
  poly_sf,
  point_id = "DHSID",
  poly_id = "ID_2",
  useCRS = NULL,
  urban_col = "URBAN_RURA",
  p_rural_hi = 0.01,
  rural_max = 5000,
  rural_max_hi = 10000,
  urban_max = 2000,
  uniform_area = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{point_sf}{An `sf` object with POINT geometry.}

\item{poly_sf}{An `sf` object with POLYGON/MULTIPOLYGON geometry.}

\item{point_id}{Name of unique ID column in `point_sf` (default `"DHSID"`).}

\item{poly_id}{Name of polygon ID column in `poly_sf` (default `"ID_2"`).}

\item{useCRS}{Optional CRS override passed through to `pb_displace_once_dhs()`.}

\item{urban_col}{Name of urban/rural indicator column (default `"URBAN_RURA"`).}

\item{p_rural_hi}{Proportion of rural points displaced to `rural_max_hi`.}

\item{rural_max}{Max rural displacement in meters.}

\item{rural_max_hi}{Max rural displacement in meters for the tail fraction.}

\item{urban_max}{Max urban displacement in meters.}

\item{uniform_area}{If TRUE, sample displacement radius uniformly over area.}

\item{verbose}{If TRUE, prints progress messages.}
}
\value{
An `sf` object of displaced points, with the original admin ID retained.
}
\description{
Implements a DHS-style displacement protocol where displaced points must remain
within the same administrative polygon as their original locations.

The protocol is:
1) Assign each original point to an admin polygon (within-join).
2) Displace points once according to DHS rules.
3) Re-assign displaced points to polygons.
4) Any points that changed polygons are re-displaced (re-drawn) until all points
   remain within their original polygon.
}
